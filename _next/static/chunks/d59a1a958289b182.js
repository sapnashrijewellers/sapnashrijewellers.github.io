(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,i)=>{t.exports=e.r(76562)},79705,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(18566);let s="KEYS",n="VALUES";class o{constructor(e,t){const i=e._tree,r=Array.from(i.keys());this.set=e,this._type=t,this._path=r.length>0?[{node:i,keys:r}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(0===this._path.length)return{done:!0,value:void 0};let{node:e,keys:t}=l(this._path);if(""===l(t))return{done:!1,value:this.result()};let i=e.get(l(t));return this._path.push({node:i,keys:Array.from(i.keys())}),this.dive()}backtrack(){if(0===this._path.length)return;let e=l(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>l(e)).filter(e=>""!==e).join("")}value(){return l(this._path).node.get("")}result(){switch(this._type){case n:return this.value();case s:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}let l=e=>e[e.length-1],a=(e,t,i,r,s,n,o,l)=>{let h=n*o;e:for(let d of e.keys())if(""===d){let t=s[h-1];t<=i&&r.set(l,[e.get(d),t])}else{let h=n;for(let e=0;e<d.length;++e,++h){let r=d[e],n=o*h,l=n-o,a=s[n],u=Math.max(0,h-i-1),c=Math.min(o-1,h+i);for(let e=u;e<c;++e){let i=r!==t[e],o=s[l+e]+ +i,h=s[l+e+1]+1,d=s[n+e]+1,u=s[n+e+1]=Math.min(o,h,d);u<a&&(a=u)}if(a>i)continue e}a(e.get(d),t,i,r,s,h,o,l+d)}};class h{constructor(e=new Map,t=""){this._size=void 0,this._tree=e,this._prefix=t}atPrefix(e){if(!e.startsWith(this._prefix))throw Error("Mismatched prefix");let[t,i]=d(this._tree,e.slice(this._prefix.length));if(void 0===t){let[t,r]=p(i);for(let i of t.keys())if(""!==i&&i.startsWith(r)){let s=new Map;return s.set(i.slice(r.length),t.get(i)),new h(s,e)}}return new h(t,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,m(this._tree,e)}entries(){return new o(this,"ENTRIES")}forEach(e){for(let[t,i]of this)e(t,i,this)}fuzzyGet(e,t){return((e,t,i)=>{let r=new Map;if(void 0===t)return r;let s=t.length+1,n=s+i,o=new Uint8Array(n*s).fill(i+1);for(let e=0;e<s;++e)o[e]=e;for(let e=1;e<n;++e)o[e*s]=e;return a(e,t,i,r,o,1,s,""),r})(this._tree,e,t)}get(e){let t=u(this._tree,e);return void 0!==t?t.get(""):void 0}has(e){let t=u(this._tree,e);return void 0!==t&&t.has("")}keys(){return new o(this,s)}set(e,t){if("string"!=typeof e)throw Error("key must be a string");return this._size=void 0,c(this._tree,e).set("",t),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,t){if("string"!=typeof e)throw Error("key must be a string");this._size=void 0;let i=c(this._tree,e);return i.set("",t(i.get(""))),this}fetch(e,t){if("string"!=typeof e)throw Error("key must be a string");this._size=void 0;let i=c(this._tree,e),r=i.get("");return void 0===r&&i.set("",r=t()),r}values(){return new o(this,n)}[Symbol.iterator](){return this.entries()}static from(e){let t=new h;for(let[i,r]of e)t.set(i,r);return t}static fromObject(e){return h.from(Object.entries(e))}}let d=(e,t,i=[])=>{if(0===t.length||null==e)return[e,i];for(let r of e.keys())if(""!==r&&t.startsWith(r))return i.push([e,r]),d(e.get(r),t.slice(r.length),i);return i.push([e,t]),d(void 0,"",i)},u=(e,t)=>{if(0===t.length||null==e)return e;for(let i of e.keys())if(""!==i&&t.startsWith(i))return u(e.get(i),t.slice(i.length))},c=(e,t)=>{let i=t.length;t:for(let r=0;e&&r<i;){for(let s of e.keys())if(""!==s&&t[r]===s[0]){let n=Math.min(i-r,s.length),o=1;for(;o<n&&t[r+o]===s[o];)++o;let l=e.get(s);if(o===s.length)e=l;else{let i=new Map;i.set(s.slice(o),l),e.set(t.slice(r,r+o),i),e.delete(s),e=i}r+=o;continue t}let s=new Map;return e.set(t.slice(r),s),s}return e},m=(e,t)=>{let[i,r]=d(e,t);if(void 0!==i){if(i.delete(""),0===i.size)f(r);else if(1===i.size){let[e,t]=i.entries().next().value;g(r,e,t)}}},f=e=>{if(0===e.length)return;let[t,i]=p(e);if(t.delete(i),0===t.size)f(e.slice(0,-1));else if(1===t.size){let[i,r]=t.entries().next().value;""!==i&&g(e.slice(0,-1),i,r)}},g=(e,t,i)=>{if(0===e.length)return;let[r,s]=p(e);r.set(s+t,i),r.delete(s)},p=e=>e[e.length-1];class _{constructor(e){if((null==e?void 0:e.fields)==null)throw Error('MiniSearch: option "fields" must be provided');const t=null==e.autoVacuum||!0===e.autoVacuum?j:e.autoVacuum;this._options={...y,...e,autoVacuum:t,searchOptions:{...S,...e.searchOptions||{}},autoSuggestOptions:{...k,...e.autoSuggestOptions||{}}},this._index=new h,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=I,this.addFields(this._options.fields)}add(e){let{extractField:t,stringifyField:i,tokenize:r,processTerm:s,fields:n,idField:o}=this._options,l=t(e,o);if(null==l)throw Error(`MiniSearch: document does not have ID field "${o}"`);if(this._idToShortId.has(l))throw Error(`MiniSearch: duplicate ID ${l}`);let a=this.addDocumentId(l);for(let o of(this.saveStoredFields(a,e),n)){let n=t(e,o);if(null==n)continue;let l=r(i(n,o),o),h=this._fieldIds[o],d=new Set(l).size;for(let e of(this.addFieldLength(a,h,this._documentCount-1,d),l)){let t=s(e,o);if(Array.isArray(t))for(let e of t)this.addTerm(h,a,e);else t&&this.addTerm(h,a,t)}}}addAll(e){for(let t of e)this.add(t)}addAllAsync(e,t={}){let{chunkSize:i=10}=t,r={chunk:[],promise:Promise.resolve()},{chunk:s,promise:n}=e.reduce(({chunk:e,promise:t},r,s)=>(e.push(r),(s+1)%i==0)?{chunk:[],promise:t.then(()=>new Promise(e=>setTimeout(e,0))).then(()=>this.addAll(e))}:{chunk:e,promise:t},r);return n.then(()=>this.addAll(s))}remove(e){let{tokenize:t,processTerm:i,extractField:r,stringifyField:s,fields:n,idField:o}=this._options,l=r(e,o);if(null==l)throw Error(`MiniSearch: document does not have ID field "${o}"`);let a=this._idToShortId.get(l);if(null==a)throw Error(`MiniSearch: cannot remove document with ID ${l}: it is not in the index`);for(let o of n){let n=r(e,o);if(null==n)continue;let l=t(s(n,o),o),h=this._fieldIds[o],d=new Set(l).size;for(let e of(this.removeFieldLength(a,h,this._documentCount,d),l)){let t=i(e,o);if(Array.isArray(t))for(let e of t)this.removeTerm(h,a,e);else t&&this.removeTerm(h,a,t)}}this._storedFields.delete(a),this._documentIds.delete(a),this._idToShortId.delete(l),this._fieldLength.delete(a),this._documentCount-=1}removeAll(e){if(e)for(let t of e)this.remove(t);else if(arguments.length>0)throw Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new h,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}discard(e){let t=this._idToShortId.get(e);if(null==t)throw Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach((e,i)=>{this.removeFieldLength(t,i,this._documentCount,e)}),this._fieldLength.delete(t),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(!1===this._options.autoVacuum)return;let{minDirtFactor:e,minDirtCount:t,batchSize:i,batchWait:r}=this._options.autoVacuum;this.conditionalVacuum({batchSize:i,batchWait:r},{minDirtCount:t,minDirtFactor:e})}discardAll(e){let t=this._options.autoVacuum;try{for(let t of(this._options.autoVacuum=!1,e))this.discard(t)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(e){let{idField:t,extractField:i}=this._options,r=i(e,t);this.discard(r),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null!=this._enqueuedVacuum||(this._enqueuedVacuum=this._currentVacuum.then(()=>{let t=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=I,this.performVacuuming(e,t)})),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,t){let i=this._dirtCount;if(this.vacuumConditionsMet(t)){let t=e.batchSize||z.batchSize,r=e.batchWait||z.batchWait,s=1;for(let[e,i]of this._index){for(let[e,t]of i)for(let[r]of t)this._documentIds.has(r)||(t.size<=1?i.delete(e):t.delete(r));0===this._index.get(e).size&&this._index.delete(e),s%t==0&&await new Promise(e=>setTimeout(e,r)),s+=1}this._dirtCount-=i}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(null==e)return!0;let{minDirtCount:t,minDirtFactor:i}=e;return t=t||j.minDirtCount,i=i||j.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=i}get isVacuuming(){return null!=this._currentVacuum}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let t=this._idToShortId.get(e);if(null!=t)return this._storedFields.get(t)}search(e,t={}){let{searchOptions:i}=this._options,r={...i,...t},s=this.executeQuery(e,t),n=[];for(let[e,{score:t,terms:i,match:o}]of s){let s=i.length||1,l={id:this._documentIds.get(e),score:t*s,terms:Object.keys(o),queryTerms:i,match:o};Object.assign(l,this._storedFields.get(e)),(null==r.filter||r.filter(l))&&n.push(l)}return e===_.wildcard&&null==r.boostDocument||n.sort(F),n}autoSuggest(e,t={}){t={...this._options.autoSuggestOptions,...t};let i=new Map;for(let{score:r,terms:s}of this.search(e,t)){let e=s.join(" "),t=i.get(e);null!=t?(t.score+=r,t.count+=1):i.set(e,{score:r,terms:s,count:1})}let r=[];for(let[e,{score:t,terms:s,count:n}]of i)r.push({suggestion:e,terms:s,score:t/n});return r.sort(F),r}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,t){if(null==t)throw Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}static async loadJSONAsync(e,t){if(null==t)throw Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),t)}static getDefault(e){if(y.hasOwnProperty(e))return x(y,e);throw Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,t){let{index:i,documentIds:r,fieldLength:s,storedFields:n,serializationVersion:o}=e,l=this.instantiateMiniSearch(e,t);for(let[e,t]of(l._documentIds=V(r),l._fieldLength=V(s),l._storedFields=V(n),l._documentIds))l._idToShortId.set(t,e);for(let[e,t]of i){let i=new Map;for(let e of Object.keys(t)){let r=t[e];1===o&&(r=r.ds),i.set(parseInt(e,10),V(r))}l._index.set(e,i)}return l}static async loadJSAsync(e,t){let{index:i,documentIds:r,fieldLength:s,storedFields:n,serializationVersion:o}=e,l=this.instantiateMiniSearch(e,t);for(let[e,t]of(l._documentIds=await L(r),l._fieldLength=await L(s),l._storedFields=await L(n),l._documentIds))l._idToShortId.set(t,e);let a=0;for(let[e,t]of i){let i=new Map;for(let e of Object.keys(t)){let r=t[e];1===o&&(r=r.ds),i.set(parseInt(e,10),await L(r))}++a%1e3==0&&await N(0),l._index.set(e,i)}return l}static instantiateMiniSearch(e,t){let{documentCount:i,nextId:r,fieldIds:s,averageFieldLength:n,dirtCount:o,serializationVersion:l}=e;if(1!==l&&2!==l)throw Error("MiniSearch: cannot deserialize an index created with an incompatible version");let a=new _(t);return a._documentCount=i,a._nextId=r,a._idToShortId=new Map,a._fieldIds=s,a._avgFieldLength=n,a._dirtCount=o||0,a._index=new h,a}executeQuery(e,t={}){if(e===_.wildcard)return this.executeWildcardQuery(t);if("string"!=typeof e){let i={...t,...e,queries:void 0},r=e.queries.map(e=>this.executeQuery(e,i));return this.combineResults(r,i.combineWith)}let{tokenize:i,processTerm:r,searchOptions:s}=this._options,n={tokenize:i,processTerm:r,...s,...t},{tokenize:o,processTerm:l}=n,a=o(e).flatMap(e=>l(e)).filter(e=>!!e).map(v(n)).map(e=>this.executeQuerySpec(e,n));return this.combineResults(a,n.combineWith)}executeQuerySpec(e,t){let i,r,s={...this._options.searchOptions,...t},n=(s.fields||this._options.fields).reduce((e,t)=>({...e,[t]:x(s.boost,t)||1}),{}),{boostDocument:o,weights:l,maxFuzzy:a,bm25:h}=s,{fuzzy:d,prefix:u}={...S.weights,...l},c=this._index.get(e.term),m=this.termResults(e.term,e.term,1,e.termBoost,c,n,o,h);if(e.prefix&&(i=this._index.atPrefix(e.term)),e.fuzzy){let t=!0===e.fuzzy?.2:e.fuzzy,i=t<1?Math.min(a,Math.round(e.term.length*t)):t;i&&(r=this._index.fuzzyGet(e.term,i))}if(i)for(let[t,s]of i){let i=t.length-e.term.length;if(!i)continue;null==r||r.delete(t);let l=u*t.length/(t.length+.3*i);this.termResults(e.term,t,l,e.termBoost,s,n,o,h,m)}if(r)for(let t of r.keys()){let[i,s]=r.get(t);if(!s)continue;let l=d*t.length/(t.length+s);this.termResults(e.term,t,l,e.termBoost,i,n,o,h,m)}return m}executeWildcardQuery(e){let t=new Map,i={...this._options.searchOptions,...e};for(let[e,r]of this._documentIds){let s=i.boostDocument?i.boostDocument(r,"",this._storedFields.get(e)):1;t.set(e,{score:s,terms:[],match:{}})}return t}combineResults(e,t="or"){if(0===e.length)return new Map;let i=w[t.toLowerCase()];if(!i)throw Error(`Invalid combination operator: ${t}`);return e.reduce(i)||new Map}toJSON(){let e=[];for(let[t,i]of this._index){let r={};for(let[e,t]of i)r[e]=Object.fromEntries(t);e.push([t,r])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,t,i,r,s,n,o,l,a=new Map){if(null==s)return a;for(let h of Object.keys(n)){let d=n[h],u=this._fieldIds[h],c=s.get(u);if(null==c)continue;let m=c.size,f=this._avgFieldLength[u];for(let s of c.keys()){if(!this._documentIds.has(s)){this.removeTerm(u,s,t),m-=1;continue}let n=o?o(this._documentIds.get(s),t,this._storedFields.get(s)):1;if(!n)continue;let g=c.get(s),p=this._fieldLength.get(s)[u],_=i*r*d*n*b(g,m,this._documentCount,p,f,l),w=a.get(s);if(w){w.score+=_,C(w.terms,e);let i=x(w.match,t);i?i.push(h):w.match[t]=[h]}else a.set(s,{score:_,terms:[e],match:{[t]:[h]}})}}return a}addTerm(e,t,i){let r=this._index.fetch(i,O),s=r.get(e);if(null==s)(s=new Map).set(t,1),r.set(e,s);else{let e=s.get(t);s.set(t,(e||0)+1)}}removeTerm(e,t,i){if(!this._index.has(i))return void this.warnDocumentChanged(t,e,i);let r=this._index.fetch(i,O),s=r.get(e);null==s||null==s.get(t)?this.warnDocumentChanged(t,e,i):1>=s.get(t)?s.size<=1?r.delete(e):s.delete(t):s.set(t,s.get(t)-1),0===this._index.get(i).size&&this._index.delete(i)}warnDocumentChanged(e,t,i){for(let r of Object.keys(this._fieldIds))if(this._fieldIds[r]===t)return void this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${i}" was not present in field "${r}". Removing a document after it has changed can corrupt the index!`,"version_conflict")}addDocumentId(e){let t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}addFields(e){for(let t=0;t<e.length;t++)this._fieldIds[e[t]]=t}addFieldLength(e,t,i,r){let s=this._fieldLength.get(e);null==s&&this._fieldLength.set(e,s=[]),s[t]=r;let n=this._avgFieldLength[t]||0;this._avgFieldLength[t]=(n*i+r)/(i+1)}removeFieldLength(e,t,i,r){if(1===i){this._avgFieldLength[t]=0;return}let s=this._avgFieldLength[t]*i-r;this._avgFieldLength[t]=s/(i-1)}saveStoredFields(e,t){let{storeFields:i,extractField:r}=this._options;if(null==i||0===i.length)return;let s=this._storedFields.get(e);for(let n of(null==s&&this._storedFields.set(e,s={}),i)){let e=r(t,n);void 0!==e&&(s[n]=e)}}}_.wildcard=Symbol("*");let x=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,w={or:(e,t)=>{for(let i of t.keys()){let r=e.get(i);if(null==r)e.set(i,t.get(i));else{let{score:e,terms:s,match:n}=t.get(i);r.score=r.score+e,r.match=Object.assign(r.match,n),M(r.terms,s)}}return e},and:(e,t)=>{let i=new Map;for(let r of t.keys()){let s=e.get(r);if(null==s)continue;let{score:n,terms:o,match:l}=t.get(r);M(s.terms,o),i.set(r,{score:s.score+n,terms:s.terms,match:Object.assign(s.match,l)})}return i},and_not:(e,t)=>{for(let i of t.keys())e.delete(i);return e}},b=(e,t,i,r,s,n)=>{let{k:o,b:l,d:a}=n;return Math.log(1+(i-t+.5)/(t+.5))*(a+e*(o+1)/(e+o*(1-l+l*r/s)))},v=e=>(t,i,r)=>{let s="function"==typeof e.fuzzy?e.fuzzy(t,i,r):e.fuzzy||!1,n="function"==typeof e.prefix?e.prefix(t,i,r):!0===e.prefix,o="function"==typeof e.boostTerm?e.boostTerm(t,i,r):1;return{term:t,fuzzy:s,prefix:n,termBoost:o}},y={idField:"id",extractField:(e,t)=>e[t],stringifyField:(e,t)=>e.toString(),tokenize:e=>e.split(E),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{"function"==typeof(null==console?void 0:console[e])&&console[e](t)},autoVacuum:!0},S={combineWith:"or",prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},k={combineWith:"and",prefix:(e,t,i)=>t===i.length-1},z={batchSize:1e3,batchWait:10},I={minDirtFactor:.1,minDirtCount:20},j={...z,...I},C=(e,t)=>{e.includes(t)||e.push(t)},M=(e,t)=>{for(let i of t)e.includes(i)||e.push(i)},F=({score:e},{score:t})=>t-e,O=()=>new Map,V=e=>{let t=new Map;for(let i of Object.keys(e))t.set(parseInt(i,10),e[i]);return t},L=async e=>{let t=new Map,i=0;for(let r of Object.keys(e))t.set(parseInt(r,10),e[r]),++i%1e3==0&&await N(0);return t},N=e=>new Promise(t=>setTimeout(t,e)),E=/[\n\r\p{Z}\p{P}]+/u;var T=e.i(31485),A=e.i(75254);let W=(0,A.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),R=(0,A.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var D=e.i(55436);let q=(0,A.default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]);function $(){let e=(0,r.useSearchParams)(),s=(0,r.useRouter)(),n=decodeURIComponent(e.get("q")||"").trim(),[o,l]=(0,i.useState)(n),[a,h]=(0,i.useState)(null),[d,u]=(0,i.useState)({}),[c,m]=(0,i.useState)("best-match"),[f,g]=(0,i.useState)(!0),[p,x]=(0,i.useState)(!1),[w,b]=(0,i.useState)(!1),v=(0,i.useRef)(null),y=(0,i.useRef)(null),S=(0,i.useRef)(null),k=(0,i.useRef)(null);(0,i.useEffect)(()=>l(n),[n]);let z=e=>{l(e),s.replace(`/search?q=${encodeURIComponent(e.trim())}`)};(0,i.useEffect)(()=>{(async()=>{try{g(!0);let e=await fetch("/data/search-index.json"),t=await e.text(),i=_.loadJSON(t,{fields:["name","keywords","type","category","for","purity","highlights"]});h(i)}finally{g(!1)}})()},[]),(0,i.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&S.current&&!S.current.contains(e.target)&&x(!1),y.current&&!y.current.contains(e.target)&&k.current&&!k.current.contains(e.target)&&b(!1)},t=e=>{"Escape"===e.key&&(x(!1),b(!1))};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[]);let I=(0,i.useMemo)(()=>{if(!a)return[];let e=[];switch(o.trim()&&(e=a.search(o).map(e=>({id:e.id,name:e.name,weight:e.weight,purity:e.purity,images:e.images,category:e.category,slug:e.slug,for:e.for,type:e.type,newArrival:e.newArrival,highlights:["",""],keywords:""}))),d.minWeight&&(e=e.filter(e=>e.weight>=d.minWeight)),d.maxWeight&&(e=e.filter(e=>e.weight<=d.maxWeight)),d.forWhom&&(e=e.filter(e=>e.for===d.forWhom)),c){case"name-asc":e=e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-desc":e=e.sort((e,t)=>t.name.localeCompare(e.name));break;case"weight-asc":e=e.sort((e,t)=>e.weight-t.weight);break;case"weight-desc":e=e.sort((e,t)=>t.weight-e.weight)}return e},[a,o,d,c]),j=(e,t)=>{u(i=>({...i,[e]:t}))};return(0,t.jsx)("div",{className:"min-h-screen bg-surface relative",children:(0,t.jsxs)("div",{className:"container mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4 relative",children:[(0,t.jsxs)("div",{className:"flex items-center border-2 border-primary rounded-xl bg-accent px-3 py-0 w-full max-w-lg",children:[(0,t.jsx)(D.Search,{className:"text-normal mr-2 shrink-0",size:16}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>z(e.target.value),placeholder:"Search jewelry...",className:"flex-1 min-w-0 bg-transparent outline-none text-normal placeholder:text-normal"}),(0,t.jsx)("button",{onClick:()=>{if(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window))return void alert("Speech recognition is not supported in this browser.");let e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.lang="en-US",e.interimResults=!1,e.maxAlternatives=1,e.onresult=e=>{z(e.results[0][0].transcript)},e.start()},"aria-label":"Speak your search",className:"ml-2 text-normal shrink-0",children:(0,t.jsx)(q,{size:16})}),(0,t.jsx)("button",{ref:S,onClick:()=>{x(!p),b(!1)},className:"ml-2 text-normal shrink-0",title:"Filter search results",children:(0,t.jsx)(W,{size:16})}),(0,t.jsx)("button",{ref:k,onClick:()=>{b(!w),x(!1)},className:"ml-2 text-normal shrink-0",title:"Sort search results",children:(0,t.jsx)(R,{size:16})})]}),p&&(0,t.jsxs)("div",{ref:v,className:"absolute right-0 top-full mt-2 w-72 bg-surface border border-theme rounded-xl shadow-lg z-50 p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3 text-primary",children:"Filters"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,t.jsx)("input",{type:"number",placeholder:"Min Weight (g)",value:d.minWeight||"",onChange:e=>j("minWeight",e.target.value?parseFloat(e.target.value):void 0),className:"p-2 border border-theme rounded bg-accent text-normal"}),(0,t.jsx)("input",{type:"number",placeholder:"Max Weight (g)",value:d.maxWeight||"",onChange:e=>j("maxWeight",e.target.value?parseFloat(e.target.value):void 0),className:"p-2 border border-theme rounded bg-accent text-normal"}),(0,t.jsxs)("select",{value:d.forWhom||"",onChange:e=>j("forWhom",e.target.value||void 0),className:"p-2 border border-theme rounded bg-accent text-normal",children:[(0,t.jsx)("option",{value:"",children:"For Everyone"}),(0,t.jsx)("option",{value:"her",children:"For Her"}),(0,t.jsx)("option",{value:"him",children:"For Him"}),(0,t.jsx)("option",{value:"kids",children:"For Kids"}),(0,t.jsx)("option",{value:"unisex",children:"Unisex"})]})]})]}),w&&(0,t.jsxs)("div",{ref:y,className:"absolute right-0 top-full mt-2 w-72 bg-surface border border-theme rounded-xl shadow-lg z-50 p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3 text-primary",children:"Sort By"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,t.jsx)("button",{onClick:()=>m("best-match"),className:`p-2 border border-theme rounded ${"best-match"===c?"bg-accent text-primary":"bg-surface text-normal"}`,children:"Best Match"}),(0,t.jsx)("button",{onClick:()=>m("name-asc"),className:`p-2 border border-theme rounded ${"name-asc"===c?"bg-accent text-primary":"bg-surface text-normal"}`,children:"Product Name A–Z"}),(0,t.jsx)("button",{onClick:()=>m("name-desc"),className:`p-2 border border-theme rounded ${"name-desc"===c?"bg-accent text-primary":"bg-surface text-normal"}`,children:"Product Name Z–A"}),(0,t.jsx)("button",{onClick:()=>m("weight-asc"),className:`p-2 border border-theme rounded ${"weight-asc"===c?"bg-accent text-primary":"bg-surface text-normal"}`,children:"Weight Low → High"}),(0,t.jsx)("button",{onClick:()=>m("weight-desc"),className:`p-2 border border-theme rounded ${"weight-desc"===c?"bg-accent text-primary":"bg-surface text-normal"}`,children:"Weight High → Low"})]})]})]}),(0,t.jsxs)("div",{className:"mb-4 text-normal font-medium",children:[o&&(0,t.jsxs)("span",{className:"text-primary",children:['Search: "',o,'" — ']}),I.length," products found"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(e=>(0,t.jsx)(T.default,{product:e},e.id))}),!f&&0===I.length&&(0,t.jsx)("div",{className:"text-center py-20 text-normal",children:"No results found."})]})})}function P(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading search..."}),children:(0,t.jsx)($,{})})}e.s(["default",()=>P],79705)}]);