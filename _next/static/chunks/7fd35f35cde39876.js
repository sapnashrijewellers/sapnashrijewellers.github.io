(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33896,e=>{"use strict";var l=e.i(43476),t=e.i(71645),a=e.i(45242);function r(){let[e,r]=(0,t.useState)({category:"gold",purity:"gold22K",weight:10,makingCharges:7,gst:3}),[s,n]=(0,t.useState)(null),[o,i]=(0,t.useState)(!1),c={gold24K:"सोना (24K)",gold22K:"सोना (22K)",gold18K:"सोना (18K)",silver:"चाँदी (99.9)",silverJewellery:"चाँदी (जेवर)"},d="gold"===e.category?["gold24K","gold22K","gold18K"]:["silver","silverJewellery"],u=e=>{let{name:l,value:t}=e.target;r(e=>({...e,[l]:t}))},g=async()=>{try{let e=await fetch("https://sapnashrijewellers.github.io/static/rates.json",{cache:"no-store"});if(!e.ok)throw Error("Failed to load rates");return await e.json()}catch(e){return console.error("Rate fetch error:",e),alert("रेट्स लोड करने में समस्या हुई। कृपया बाद में पुनः प्रयास करें।"),null}},h=async()=>{i(!0),n(null);let l=await g();if(!l)return void i(!1);let t=parseFloat(e.weight),a=parseFloat(e.makingCharges),r=parseFloat(e.gst),s="silverJewellery"===e.purity?.92*l.silver:l[e.purity]||0;if(!s||isNaN(t)||t<=0){alert("कृपया सही वजन और शुद्धता चुनें"),i(!1);return}let o=t*s,c=o+a/100*o;n(c+r/100*c),i(!1)},m="w-full border border-border bg-background text-foreground rounded-lg px-3 py-2 focus:ring-2 focus:ring-accent focus:outline-none transition",b="block mb-1 font-medium text-muted-foreground";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("label",{className:b,children:"आभूषण का प्रकार"}),(0,l.jsxs)("select",{name:"category",value:e.category,onChange:u,className:`${m} mb-4`,children:[(0,l.jsx)("option",{value:"gold",children:"सोना"}),(0,l.jsx)("option",{value:"silver",children:"चाँदी"})]}),(0,l.jsx)("label",{className:b,children:"शुद्धता"}),(0,l.jsx)("select",{name:"purity",value:e.purity,onChange:u,className:`${m} mb-4`,children:d.map(e=>(0,l.jsx)("option",{value:e,children:c[e]},e))}),(0,l.jsx)("label",{className:b,children:"वज़न (ग्राम में)"}),(0,l.jsx)("input",{type:"number",name:"weight",value:e.weight,onChange:u,className:`${m} mb-4`}),(0,l.jsx)("label",{className:b,children:"आभूषण बनाने का शुल्क (%)"}),(0,l.jsx)("input",{type:"number",name:"makingCharges",value:e.makingCharges,onChange:u,className:`${m} mb-4`}),(0,l.jsx)("label",{className:b,children:"GST (%)"}),(0,l.jsxs)("select",{name:"gst",value:e.gst,onChange:u,className:`${m} mb-6`,children:[(0,l.jsx)("option",{value:"3",children:"3%"}),(0,l.jsx)("option",{value:"5",children:"5%"})]}),(0,l.jsx)("button",{onClick:h,disabled:o,className:"w-full bg-accent text-accent-foreground font-semibold py-2 rounded-lg shadow-md hover:shadow-lg hover:bg-accent/90 transition disabled:opacity-70",children:o?"कैलकुलेट किया जा रहा है...":"कैलकुलेट करें"}),null!==s&&(0,l.jsxs)("div",{className:"mt-6 p-4 bg-muted border border-border rounded-lg text-center",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"कुल कीमत"}),(0,l.jsx)(a.default,{rate:Number(s),className:"text-2xl font-bold text-accent"})]})]})}e.s(["default",()=>r])}]);